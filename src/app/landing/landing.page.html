<ion-content [fullscreen]="true" class="landing-content">
  
  <!-- SIDEBAR (solo cuando est√° autenticado) -->
  <ion-menu contentId="main-content" type="overlay" *ngIf="isAuthenticated">
    <ion-content class="sidebar-content">
      <div class="sidebar-header">
        <div class="user-avatar">
          <ion-icon name="person-circle-outline"></ion-icon>
        </div>
        <div class="user-info">
          <div class="user-name">{{ userName }}</div>
          <div class="user-email">{{ userEmail }}</div>
        </div>
      </div>

      <ion-list lines="none" class="sidebar-nav">
        <ion-item button (click)="scrollToTop()">
          <ion-icon name="home-outline" slot="start"></ion-icon>
          <ion-label>Dashboard</ion-label>
        </ion-item>
        
        <ion-item button *ngFor="let modulo of modulos" (click)="goToModule(modulo)">
          <ion-icon [name]="modulo.icon" slot="start"></ion-icon>
          <ion-label>{{ modulo.titulo }}</ion-label>
          <span class="progress-badge">{{ modulo.progress }}%</span>
        </ion-item>
      </ion-list>

      <div class="sidebar-footer">
        <ion-item button lines="none" (click)="logout()">
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          <ion-label>Cerrar Sesi√≥n</ion-label>
        </ion-item>
      </div>
    </ion-content>
  </ion-menu>

  <div id="main-content">
  
  <!-- NAVBAR -->
  <nav class="landing-navbar">
    <div class="navbar-container">
      
      <!-- Modo Guest -->
      <ng-container *ngIf="!isAuthenticated">
        <div class="navbar-brand">
          <ion-icon name="school"></ion-icon>
          <span class="brand-name">Piensa</span>
        </div>
        
        <div class="navbar-menu">
          <a href="#inicio" class="nav-link active">Inicio</a>
          <a href="#caracteristicas" class="nav-link">Caracter√≠sticas</a>
          <a href="#modulos" class="nav-link">M√≥dulos</a>
          <a href="#testimonios" class="nav-link">Testimonios</a>
        </div>
        
        <div class="navbar-actions">
          <ion-button fill="clear" class="nav-btn" (click)="showAuth('login')">
            Iniciar Sesi√≥n
          </ion-button>
          <ion-button class="nav-btn-primary" (click)="showAuth('register')">
            Registrarse
          </ion-button>
        </div>
        
        <ion-button fill="clear" class="mobile-menu-btn" (click)="toggleMobileMenu()">
          <ion-icon name="menu-outline"></ion-icon>
        </ion-button>
      </ng-container>
      
      <!-- Modo Auth -->
      <ng-container *ngIf="isAuthenticated">
        <ion-menu-button class="menu-button"></ion-menu-button>
        
        <div class="navbar-brand" (click)="scrollToTop()" style="cursor: pointer;">
          <ion-icon name="school"></ion-icon>
          <span class="brand-name">Piensa</span>
        </div>
        
        <div class="navbar-search">
          <ion-searchbar 
            placeholder="Buscar m√≥dulo..."
            [(ngModel)]="searchQuery"
            class="custom-searchbar">
          </ion-searchbar>
        </div>
        
        <div class="navbar-user">
          <div class="user-avatar-small">
            <ion-icon name="person-circle-outline"></ion-icon>
          </div>
          <div class="user-data">
            <div class="user-name-small">{{ userName }}</div>
          </div>
          <ion-button fill="clear" (click)="logout()" class="logout-btn">
            <ion-icon name="log-out-outline"></ion-icon>
          </ion-button>
        </div>
      </ng-container>
      
    </div>
    
    <!-- Mobile Menu (solo guest) -->
    <div class="mobile-menu" [class.active]="mobileMenuOpen" *ngIf="!isAuthenticated">
      <a href="#inicio" class="mobile-link" (click)="toggleMobileMenu()">Inicio</a>
      <a href="#caracteristicas" class="mobile-link" (click)="toggleMobileMenu()">Caracter√≠sticas</a>
      <a href="#modulos" class="mobile-link" (click)="toggleMobileMenu()">M√≥dulos</a>
      <a href="#testimonios" class="mobile-link" (click)="toggleMobileMenu()">Testimonios</a>
      <div class="mobile-actions">
        <ion-button expand="block" fill="outline" (click)="showAuth('login')">
          Iniciar Sesi√≥n
        </ion-button>
        <ion-button expand="block" (click)="showAuth('register')">
          Registrarse
        </ion-button>
      </div>
    </div>
  </nav>
  
  <div class="landing-wrapper">
    
    <!-- HERO SECTION -->
    <section class="hero-section" id="inicio">
      
      <!-- Modo Guest: Landing original completo -->
      <div *ngIf="!isAuthenticated" class="hero-container">
        
        <!-- Left Side - Content -->
        <div class="hero-left">
          <div class="hero-badge">
            <ion-icon name="sparkles"></ion-icon>
            <span>Educaci√≥n digital moderna</span>
          </div>
          
          <h1 class="hero-title">
            Domina el <span class="gradient-text">espa√±ol</span> como nunca antes
          </h1>
          
          <p class="hero-subtitle">
            Aprende gram√°tica, ortograf√≠a y redacci√≥n de forma interactiva. 
            Dise√±ado para j√≥venes que quieren mejorar sus habilidades de comunicaci√≥n.
          </p>
          
          <div class="hero-stats">
            <div class="stat-item">
              <div class="stat-number">6</div>
              <div class="stat-label">M√≥dulos</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
              <div class="stat-number">30+</div>
              <div class="stat-label">Lecciones</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
              <div class="stat-number">100%</div>
              <div class="stat-label">Gratis</div>
            </div>
          </div>
          
          <div class="hero-cta">
            <ion-button expand="block" size="large" class="cta-primary" (click)="showAuth('register')">
              <ion-icon name="rocket" slot="start"></ion-icon>
              Comenzar ahora
            </ion-button>
            <ion-button expand="block" size="large" fill="outline" class="cta-secondary" (click)="showAuth('login')">
              Ya tengo cuenta
            </ion-button>
          </div>
          
          <div class="trusted-by">
            <span class="trusted-text">M√°s de 500 estudiantes ya conf√≠an en nosotros</span>
            <div class="user-avatars">
              <div class="avatar"></div>
              <div class="avatar"></div>
              <div class="avatar"></div>
              <div class="avatar"></div>
              <div class="avatar more">+500</div>
            </div>
          </div>
        </div>
        
        <!-- Right Side - Visual -->
        <div class="hero-right">
          <div class="hero-card-stack">
            <div class="floating-card card-1">
              <ion-icon name="book-outline"></ion-icon>
              <div class="card-content">
                <div class="card-title">Gram√°tica</div>
                <div class="card-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: 75%"></div>
                  </div>
                  <span>75%</span>
                </div>
              </div>
            </div>
            
            <div class="floating-card card-2">
              <ion-icon name="pencil-outline"></ion-icon>
              <div class="card-content">
                <div class="card-title">Ortograf√≠a</div>
                <div class="card-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: 60%"></div>
                  </div>
                  <span>60%</span>
                </div>
              </div>
            </div>
            
            <div class="floating-card card-3">
              <ion-icon name="document-text-outline"></ion-icon>
              <div class="card-content">
                <div class="card-title">Redacci√≥n</div>
                <div class="card-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: 90%"></div>
                  </div>
                  <span>90%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>
      
      <!-- Modo Auth: Dashboard -->
      <div *ngIf="isAuthenticated" class="dashboard-view">
        <div class="dashboard-header">
          <div class="header-icon">
            <ion-icon name="school"></ion-icon>
          </div>
          <div class="header-text">
            <h2>üéì Academia de Lengua</h2>
            <p>Panel general de progreso y acceso r√°pido</p>
          </div>
        </div>
        
        <div class="stats-cards">
          <div class="stat-card">
            <div class="stat-icon purple">
              <ion-icon name="bar-chart-outline"></ion-icon>
            </div>
            <div class="stat-content">
              <div class="stat-value">{{ overallProgress }}%</div>
              <div class="stat-label">Progreso general</div>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon green">
              <ion-icon name="checkmark-done-outline"></ion-icon>
            </div>
            <div class="stat-content">
              <div class="stat-value">{{ completedModules }}/6</div>
              <div class="stat-label">M√≥dulos completados</div>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon blue">
              <ion-icon name="rocket-outline"></ion-icon>
            </div>
            <div class="stat-content">
              <div class="stat-value">Activo</div>
              <div class="stat-label">Estado</div>
            </div>
          </div>
        </div>
      </div>
      
    </section>
    
    <!-- FEATURES SECTION (CONSERVADA) -->
    <section class="features-section" id="caracteristicas">
      <div class="section-header">
        <h2>¬øPor qu√© elegir Piensa?</h2>
        <p>Todo lo que necesitas para mejorar tu espa√±ol</p>
      </div>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon purple">
            <ion-icon name="speedometer-outline"></ion-icon>
          </div>
          <h3>Aprende a tu ritmo</h3>
          <p>Avanza seg√∫n tu disponibilidad y nivel de conocimiento</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon blue">
            <ion-icon name="trophy-outline"></ion-icon>
          </div>
          <h3>Sistema de progreso</h3>
          <p>Visualiza tus logros y mant√©n tu motivaci√≥n alta</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon green">
            <ion-icon name="flash-outline"></ion-icon>
          </div>
          <h3>Contenido interactivo</h3>
          <p>Ejercicios pr√°cticos y ejemplos de la vida real</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon orange">
            <ion-icon name="phone-portrait-outline"></ion-icon>
          </div>
          <h3>Acceso total</h3>
          <p>Estudia desde cualquier dispositivo, en cualquier momento</p>
        </div>
      </div>
    </section>
    
    <!-- HOW IT WORKS (CONSERVADA) -->
    <section class="how-it-works-section">
      <div class="section-header">
        <h2>¬øC√≥mo funciona?</h2>
        <p>Comienza tu viaje de aprendizaje en 3 simples pasos</p>
      </div>
      
      <div class="steps-container">
        <div class="step-card">
          <div class="step-number">1</div>
          <div class="step-icon">
            <ion-icon name="person-add-outline"></ion-icon>
          </div>
          <h3>Crea tu cuenta</h3>
          <p>Reg√≠strate gratis en menos de un minuto</p>
        </div>
        
        <div class="step-arrow">
          <ion-icon name="arrow-forward-outline"></ion-icon>
        </div>
        
        <div class="step-card">
          <div class="step-number">2</div>
          <div class="step-icon">
            <ion-icon name="grid-outline"></ion-icon>
          </div>
          <h3>Elige tu m√≥dulo</h3>
          <p>Selecciona el √°rea que quieres mejorar</p>
        </div>
        
        <div class="step-arrow">
          <ion-icon name="arrow-forward-outline"></ion-icon>
        </div>
        
        <div class="step-card">
          <div class="step-number">3</div>
          <div class="step-icon">
            <ion-icon name="rocket-outline"></ion-icon>
          </div>
          <h3>Comienza a aprender</h3>
          <p>Avanza a tu ritmo y alcanza tus metas</p>
        </div>
      </div>
    </section>
    
    <!-- MODULES SECTION (CON progreso condicional) -->
   <!-- ==========================================
     M√ìDULOS - HTML DISE√ëO VERCEL
     Reemplazar en landing.page.html
     Buscar: <section class="modules-section"
========================================== -->

<section class="modules-section" id="modulos">
  <div class="section-header">
    <h2>M√≥dulos destacados</h2>
    <p>Explora nuestros 6 m√≥dulos dise√±ados para cubrir todos los aspectos del espa√±ol</p>
  </div>
  
  <div class="modules-grid">
    <div class="module-card" *ngFor="let modulo of modulos" (click)="goToModule(modulo)" [style.--module-color]="modulo.color">
      
      <!-- Header con √≠cono y nivel -->
      <div class="module-icon">
        <ion-icon [name]="modulo.icon"></ion-icon>
        <span class="level">{{ modulo.nivel }}</span>
      </div>
      
      <!-- Contenido -->
      <div class="module-content">
        <h3>{{ modulo.titulo }}</h3>
        <p>{{ modulo.descripcion }}</p>
        
        <!-- Meta info -->
        <div class="module-meta">
          <div class="meta-item">
            <ion-icon name="document-text-outline"></ion-icon>
            <span>{{ modulo.lecciones }} lecciones</span>
          </div>
          <div class="meta-item">
            <ion-icon name="time-outline"></ion-icon>
            <span>2-3 horas</span>
          </div>
        </div>
        
        <!-- Progress bar (solo si est√° autenticado) -->
        <div *ngIf="isAuthenticated" class="module-progress-bar">
          <div class="progress-track">
            <div class="progress-fill" [style.width.%]="modulo.progress"></div>
          </div>
          <span class="progress-text">{{ modulo.progress }}%</span>
        </div>
        
        <!-- CTA -->
        <div class="module-cta">
          <span>Ver m√°s</span>
          <ion-icon name="arrow-forward"></ion-icon>
        </div>
      </div>
      
    </div>
  </div>
</section>
    
    <!-- TESTIMONIALS (CONSERVADA) -->
    <section class="testimonials-section" id="testimonios">
      <div class="section-header">
        <h2>Lo que dicen nuestros estudiantes</h2>
        <p>Historias reales de estudiantes que mejoraron su espa√±ol con Piensa</p>
      </div>
      
      <div class="testimonials-grid">
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
          </div>
          <p class="testimonial-text">
            "Piensa me ayud√≥ much√≠simo a mejorar mi ortograf√≠a. Ahora escribo mis trabajos universitarios con mucha m√°s confianza."
          </p>
          <div class="testimonial-author">
            <div class="author-avatar">MC</div>
            <div class="author-info">
              <div class="author-name">Mar√≠a Castro</div>
              <div class="author-role">Estudiante de Comunicaci√≥n</div>
            </div>
          </div>
        </div>
        
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
          </div>
          <p class="testimonial-text">
            "Los ejercicios son s√∫per pr√°cticos. Me encanta que puedo practicar desde mi celular en cualquier momento."
          </p>
          <div class="testimonial-author">
            <div class="author-avatar">CR</div>
            <div class="author-info">
              <div class="author-name">Carlos Rojas</div>
              <div class="author-role">Preparatoria</div>
            </div>
          </div>
        </div>
        
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
          </div>
          <p class="testimonial-text">
            "Perfecto para preparar ex√°menes. Los m√≥dulos est√°n super bien organizados y el sistema de progreso me motiva mucho."
          </p>
          <div class="testimonial-author">
            <div class="author-avatar">LS</div>
            <div class="author-info">
              <div class="author-name">Laura S√°nchez</div>
              <div class="author-role">Estudiante de Literatura</div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- STATS BANNER (CONSERVADA) -->
    <section class="stats-banner">
      <div class="stats-banner-content">
        <div class="stat-box">
          <div class="stat-value">500+</div>
          <div class="stat-label">Estudiantes activos</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">10,000+</div>
          <div class="stat-label">Ejercicios completados</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">4.9/5</div>
          <div class="stat-label">Calificaci√≥n promedio</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">95%</div>
          <div class="stat-label">Tasa de satisfacci√≥n</div>
        </div>
      </div>
    </section>
    
    <!-- CTA FINAL (CONSERVADA) -->
    <section class="cta-section">
      <div class="cta-container">
        <div class="cta-content">
          <h2>¬øListo para empezar?</h2>
          <p>√önete a cientos de estudiantes que ya est√°n mejorando su espa√±ol</p>
          <div class="cta-buttons">
            <ion-button size="large" class="cta-primary" (click)="showAuth('register')">
              <ion-icon name="person-add" slot="start"></ion-icon>
              Crear cuenta gratis
            </ion-button>
          </div>
          <p class="cta-note">No se requiere tarjeta de cr√©dito ‚Ä¢ Acceso inmediato</p>
        </div>
        <div class="cta-decoration">
          <div class="decoration-circle circle-1"></div>
          <div class="decoration-circle circle-2"></div>
          <div class="decoration-circle circle-3"></div>
        </div>
      </div>
    </section>
    
    <!-- FOOTER (CONSERVADO) -->
    <footer class="landing-footer">
      <div class="footer-container">
        <div class="footer-brand">
          <div class="footer-logo">
            <ion-icon name="school"></ion-icon>
            <span>Piensa</span>
          </div>
          <p>Aprende espa√±ol de forma moderna e interactiva</p>
        </div>
        
        <div class="footer-links">
          <div class="footer-column">
            <h4>Producto</h4>
            <a href="#caracteristicas">Caracter√≠sticas</a>
            <a href="#modulos">M√≥dulos</a>
            <a href="#testimonios">Testimonios</a>
          </div>
          
          <div class="footer-column">
            <h4>Empresa</h4>
            <a href="#">Sobre nosotros</a>
            <a href="#">Blog</a>
            <a href="#">Contacto</a>
          </div>
          
          <div class="footer-column">
            <h4>Legal</h4>
            <a href="#">Privacidad</a>
            <a href="#">T√©rminos</a>
            <a href="#">Cookies</a>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2026 Piensa. Todos los derechos reservados.</p>
      </div>
    </footer>
    
  </div>
  
  </div> <!-- Fin main-content -->
  
  <!-- AUTH MODAL (CON LABELS VISIBLES) -->
  <ion-modal [isOpen]="showAuthModal" (didDismiss)="closeAuth()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>{{ authMode === 'login' ? 'Iniciar Sesi√≥n' : 'Crear Cuenta' }}</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeAuth()">
              <ion-icon name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      
      <ion-content class="auth-modal-content">
        <div class="auth-form">
          
          <!-- LOGIN FORM -->
          <div *ngIf="authMode === 'login'" class="form-container">
            <div class="form-header">
              <ion-icon name="log-in-outline"></ion-icon>
              <h2>Bienvenido de vuelta</h2>
              <p>Ingresa tus datos para continuar</p>
            </div>
            
            <div class="form-group">
              <label class="input-label">
                <ion-icon name="mail-outline"></ion-icon>
                Correo electr√≥nico
              </label>
              <ion-input
                type="email"
                placeholder="ejemplo@correo.com"
                [(ngModel)]="loginData.email"
                fill="outline"
                class="custom-input">
              </ion-input>
            </div>
            
            <div class="form-group">
              <label class="input-label">
                <ion-icon name="lock-closed-outline"></ion-icon>
                Contrase√±a
              </label>
              <ion-input
                type="password"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                [(ngModel)]="loginData.password"
                fill="outline"
                class="custom-input">
              </ion-input>
            </div>
            
            <ion-button expand="block" size="large" (click)="handleLogin()" class="submit-btn">
              Iniciar Sesi√≥n
            </ion-button>
            
            <div class="form-footer">
              <p>¬øNo tienes cuenta? <a (click)="switchAuth('register')" class="link-primary">Reg√≠strate aqu√≠</a></p>
            </div>
          </div>
          
          <!-- REGISTER FORM -->
          <div *ngIf="authMode === 'register'" class="form-container">
            <div class="form-header">
              <ion-icon name="person-add-outline"></ion-icon>
              <h2>Crea tu cuenta</h2>
              <p>Comienza tu viaje de aprendizaje</p>
            </div>
            
            <div class="form-group">
              <label class="input-label">
                <ion-icon name="person-outline"></ion-icon>
                Nombre completo
              </label>
              <ion-input
                type="text"
                placeholder="Juan P√©rez"
                [(ngModel)]="registerData.name"
                fill="outline"
                class="custom-input">
              </ion-input>
            </div>
            
            <div class="form-group">
              <label class="input-label">
                <ion-icon name="mail-outline"></ion-icon>
                Correo electr√≥nico
              </label>
              <ion-input
                type="email"
                placeholder="ejemplo@correo.com"
                [(ngModel)]="registerData.email"
                fill="outline"
                class="custom-input">
              </ion-input>
            </div>
            
            <div class="form-group">
              <label class="input-label">
                <ion-icon name="lock-closed-outline"></ion-icon>
                Contrase√±a
              </label>
              <ion-input
                type="password"
                placeholder="M√≠nimo 6 caracteres"
                [(ngModel)]="registerData.password"
                fill="outline"
                class="custom-input">
              </ion-input>
            </div>
            
            <div class="form-group">
              <label class="input-label">
                <ion-icon name="lock-closed-outline"></ion-icon>
                Confirmar contrase√±a
              </label>
              <ion-input
                type="password"
                placeholder="Repite tu contrase√±a"
                [(ngModel)]="registerData.confirmPassword"
                fill="outline"
                class="custom-input">
              </ion-input>
            </div>
            
            <ion-button expand="block" size="large" (click)="handleRegister()" class="submit-btn">
              Crear Cuenta
            </ion-button>
            
            <div class="form-footer">
              <p>¬øYa tienes cuenta? <a (click)="switchAuth('login')" class="link-primary">Inicia sesi√≥n aqu√≠</a></p>
            </div>
          </div>
          
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
  
</ion-content>
